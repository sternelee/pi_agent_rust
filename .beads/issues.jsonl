{"id":"bd-147","title":"Write extension compatibility summary (goals, gaps, next steps)","description":"Background:\n- We need a concise narrative of goals, choices, and known limitations.\n\nSteps:\n- Summarize the rationale for the sample and harness design.\n- List known gaps or incompatible extensions with reasons.\n- Provide a roadmap for closing remaining gaps.\n\nAcceptance:\n- Summary can serve as a handoff for future work.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-03T02:26:41.669156765Z","created_by":"ubuntu","updated_at":"2026-02-03T02:41:00.220492671Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-147","depends_on_id":"bd-16v","type":"blocks","created_at":"2026-02-03T02:40:48.427500212Z","created_by":"ubuntu"},{"issue_id":"bd-147","depends_on_id":"bd-1we","type":"blocks","created_at":"2026-02-03T02:40:40.289423449Z","created_by":"ubuntu"},{"issue_id":"bd-147","depends_on_id":"bd-20p","type":"blocks","created_at":"2026-02-03T02:41:00.220467093Z","created_by":"ubuntu"}]}
{"id":"bd-155","title":"Workstream: extension compatibility documentation + evidence binder complete","description":"Purpose:\n- Produce self-contained documentation that maps each sampled extension to evidence of compatibility.\n\nOutputs (artifacts):\n- Updated docs (EXTENSIONS.md + FEATURE_PARITY.md).\n- Extension Conformance Report (per-extension status table).\n- How-to for adding new extensions to the sample + rerunning harness.\n\nDefinition of done:\n- A reader can understand coverage, gaps, and how to reproduce results without consulting the original plan.\n- Docs include links to fixtures and harness commands.\n\nDependencies:\n- Requires sample list, conformance harness results, and benchmarks.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-03T02:20:37.035050225Z","created_by":"ubuntu","updated_at":"2026-02-03T02:42:17.142321706Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-155","depends_on_id":"bd-147","type":"blocks","created_at":"2026-02-03T02:32:27.645123408Z","created_by":"ubuntu"},{"issue_id":"bd-155","depends_on_id":"bd-16v","type":"blocks","created_at":"2026-02-03T02:32:09.053103919Z","created_by":"ubuntu"},{"issue_id":"bd-155","depends_on_id":"bd-1rm","type":"blocks","created_at":"2026-02-03T02:32:19.654479128Z","created_by":"ubuntu"},{"issue_id":"bd-155","depends_on_id":"bd-1we","type":"blocks","created_at":"2026-02-03T02:32:00.904715251Z","created_by":"ubuntu"},{"issue_id":"bd-155","depends_on_id":"bd-20p","type":"blocks","created_at":"2026-02-03T02:42:07.022468412Z","created_by":"ubuntu"},{"issue_id":"bd-155","depends_on_id":"bd-269","type":"blocks","created_at":"2026-02-03T02:41:56.895852495Z","created_by":"ubuntu"},{"issue_id":"bd-155","depends_on_id":"bd-29c","type":"blocks","created_at":"2026-02-03T02:42:17.142294004Z","created_by":"ubuntu"}]}
{"id":"bd-16n","title":"Produce golden fixtures per extension (legacy outputs)","description":"Background:\n- Fixtures are the authoritative reference for conformance testing.\n\nSteps:\n- Run the capture pipeline for each extension scenario.\n- Store normalized outputs as JSON fixtures in a dedicated directory (e.g., tests/conformance/fixtures/extensions).\n- Include provenance metadata (extension version, capture date, legacy commit).\n\nAcceptance:\n- Every sampled extension has a fixture set covering its declared features.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:22:54.862626673Z","created_by":"ubuntu","updated_at":"2026-02-03T02:35:24.605609771Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-16n","depends_on_id":"bd-1oz","type":"blocks","created_at":"2026-02-03T02:35:24.605588441Z","created_by":"ubuntu"}]}
{"id":"bd-16v","title":"Create Extension Conformance Report (evidence binder)","description":"Background:\n- We need a single place that maps extension -> evidence.\n\nSteps:\n- Generate a table of extensions with version, runtime tier, features tested, and pass/fail.\n- Link to fixture files and harness output logs.\n- Include summary stats (coverage %, failures, gaps).\n\nAcceptance:\n- Report is self-contained and can be regenerated.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-03T02:26:16.784315729Z","created_by":"ubuntu","updated_at":"2026-02-03T02:40:15.941384598Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-16v","depends_on_id":"bd-16n","type":"blocks","created_at":"2026-02-03T02:40:15.941355243Z","created_by":"ubuntu"},{"issue_id":"bd-16v","depends_on_id":"bd-31j","type":"blocks","created_at":"2026-02-03T02:40:03.153512049Z","created_by":"ubuntu"}]}
{"id":"bd-1e0","title":"Implement extension discovery + install resolution","description":"Background:\n- pi CLI must discover extensions from packages and CLI flags; this is core UX.\n\nSteps:\n- Extend ResourceLoader/PackageManager to resolve extension assets and manifests.\n- Respect CLI flags (--extension/--no-extensions) and precedence rules (project > global).\n- Produce structured diagnostics for missing/invalid/conflicting extensions.\n- Ensure resolution is deterministic and cache-safe for repeatable tests.\n\nLogging requirements:\n- Diagnostics include source, resolution path, and reason codes.\n\nAcceptance:\n- Extensions can be installed, discovered, and enumerated from settings + CLI.\n- Diagnostics are actionable and stable for unit/E2E assertions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:23:58.695313308Z","created_by":"ubuntu","updated_at":"2026-02-03T03:06:59.732865562Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1e0","depends_on_id":"bd-gqf","type":"blocks","created_at":"2026-02-03T02:36:14.915782038Z","created_by":"ubuntu"}]}
{"id":"bd-1f5","title":"Extensions: QuickJS runtime + Pi event loop (no Node/Bun)","description":"Background:\n- JS compatibility requires deterministic event loop semantics without Node/Bun.\n\nSteps:\n- Embed QuickJS via safe Rust bindings and expose a minimal Pi event loop.\n- Implement microtask + promise ordering and timer scheduling.\n- Map legacy APIs to connector hostcalls; propagate policy errors correctly.\n- Emit structured logs for JS task scheduling and hostcall results.\n\nAcceptance:\n- A representative JS extension runs as-is with deterministic ordering.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-03T02:24:24.611922334Z","created_by":"ubuntu","updated_at":"2026-02-03T02:56:52.824405372Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1f5","depends_on_id":"bd-h04","type":"blocks","created_at":"2026-02-03T02:24:58.543354683Z","created_by":"ubuntu"}]}
{"id":"bd-1fg","title":"Implement extension benchmarks (load, tool call, event hook)","description":"Background:\n- Need measurable evidence for runtime overhead.\n\nSteps:\n- Add benchmarks for extension load/init, tool call roundtrip, event hook emission.\n- Ensure benchmarks can run with a representative extension artifact.\n- Record results in BENCHMARKS.md.\n\nAcceptance:\n- `cargo bench` runs extension benchmarks and outputs stable numbers.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-03T02:25:47.669514632Z","created_by":"ubuntu","updated_at":"2026-02-03T02:58:20.344701180Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1fg","depends_on_id":"bd-1ii","type":"blocks","created_at":"2026-02-03T02:39:01.542791111Z","created_by":"ubuntu"},{"issue_id":"bd-1fg","depends_on_id":"bd-2i5","type":"blocks","created_at":"2026-02-03T02:39:10.545872664Z","created_by":"ubuntu"},{"issue_id":"bd-1fg","depends_on_id":"bd-7cs","type":"blocks","created_at":"2026-02-03T02:58:20.344676604Z","created_by":"ubuntu"}]}
{"id":"bd-1ge","title":"Session tree navigation + branching (CLI/TUI)","description":"Implement tree navigation/branching in session layer and expose in CLI/TUI; add conformance fixtures.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-03T02:18:44.440378612Z","created_by":"ubuntu","updated_at":"2026-02-03T02:18:44.440378612Z","compaction_level":0,"original_size":0}
{"id":"bd-1ii","title":"Define performance budgets for extension runtime","description":"Background:\n- We need explicit targets for extension overhead (startup, tool call latency).\n\nSteps:\n- Choose budgets based on existing BENCHMARKS.md style (p95/p99).\n- Consider both cold-start and warmed caches.\n- Document measurement methodology and hardware class.\n\nAcceptance:\n- Budgets are explicit and agreed, with rationale.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-03T02:25:38.338785747Z","created_by":"ubuntu","updated_at":"2026-02-03T02:25:38.338785747Z","compaction_level":0,"original_size":0}
{"id":"bd-1nq","title":"Integrate extension conformance harness into tests + CI","description":"Background:\n- Conformance must be automated and gated.\n\nSteps:\n- Add harness tests to `cargo test` default set.\n- Document how to run just extension conformance.\n- Update CI workflow to include these tests and capture logs as artifacts.\n\nAcceptance:\n- CI fails on extension conformance regressions with clear logs and downloadable artifacts.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-03T02:25:14.036977202Z","created_by":"ubuntu","updated_at":"2026-02-03T03:07:33.514191537Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1nq","depends_on_id":"bd-2ce","type":"blocks","created_at":"2026-02-03T02:38:24.016957128Z","created_by":"ubuntu"},{"issue_id":"bd-1nq","depends_on_id":"bd-3s2","type":"blocks","created_at":"2026-02-03T02:38:12.549849588Z","created_by":"ubuntu"},{"issue_id":"bd-1nq","depends_on_id":"bd-7al","type":"blocks","created_at":"2026-02-03T02:38:03.398803451Z","created_by":"ubuntu"}]}
{"id":"bd-1oz","title":"Normalize legacy capture outputs (paths/time/randomness)","description":"Background:\n- Captured outputs will contain non-deterministic elements; normalization must be documented and applied.\n\nSteps:\n- Implement normalization rules (path stripping, timestamp canonicalization, UUID masking).\n- Preserve semantic meaning (do not over-normalize).\n- Record the normalization rules alongside fixtures.\n\nAcceptance:\n- Normalized fixtures are stable across repeated captures.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:22:46.151025259Z","created_by":"ubuntu","updated_at":"2026-02-03T02:35:16.078333301Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1oz","depends_on_id":"bd-3on","type":"blocks","created_at":"2026-02-03T02:35:16.078309798Z","created_by":"ubuntu"}]}
{"id":"bd-1rm","title":"Document procedure: add new extension to sample + rerun harness","description":"Background:\n- The sample must evolve over time; procedure must be explicit.\n\nSteps:\n- Document how to add an extension (update manifest, fetch artifact, update scenarios, capture legacy, update fixtures).\n- Include checklists and commands.\n\nAcceptance:\n- A new contributor can add an extension without consulting this plan.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-03T02:26:29.737520573Z","created_by":"ubuntu","updated_at":"2026-02-03T02:40:28.346435010Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1rm","depends_on_id":"bd-29c","type":"blocks","created_at":"2026-02-03T02:40:28.346408792Z","created_by":"ubuntu"}]}
{"id":"bd-1tz","title":"Unit tests: connector dispatcher + policy engine","description":"Background:\n- The connector dispatcher is the security boundary; policy enforcement must be correct.\n\nSteps:\n- Unit tests for hostcall routing (read/write/exec/http/env).\n- Policy mode tests (strict/prompt/permissive) with allow/deny outcomes.\n- Audit log tests (ensure allow/deny entries contain correlation IDs and reason).\n\nLogging requirements:\n- Tests must assert log content and redaction of secrets.\n\nAcceptance:\n- All policy branches covered; logs are deterministic and audited.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:46:07.082267731Z","created_by":"ubuntu","updated_at":"2026-02-03T02:48:42.185631176Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1tz","depends_on_id":"bd-34f","type":"blocks","created_at":"2026-02-03T02:48:42.185604516Z","created_by":"ubuntu"},{"issue_id":"bd-1tz","depends_on_id":"bd-h04","type":"blocks","created_at":"2026-02-03T02:48:30.049727476Z","created_by":"ubuntu"}]}
{"id":"bd-1u6","title":"Unit tests: tool/command/event wiring","description":"Background:\n- Extension tool/command/event wiring is the user-visible interface.\n\nSteps:\n- Unit tests for tool registration and tool_call routing.\n- Unit tests for slash command dispatch + argument parsing.\n- Event hook emission ordering tests for agent lifecycle events.\n\nLogging requirements:\n- Tests assert ordering and include verbose diagnostic output on failure.\n\nAcceptance:\n- All wiring paths are covered and ordering matches legacy behavior.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:46:46.391673977Z","created_by":"ubuntu","updated_at":"2026-02-03T02:49:50.298707320Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1u6","depends_on_id":"bd-2i5","type":"blocks","created_at":"2026-02-03T02:49:50.298681362Z","created_by":"ubuntu"}]}
{"id":"bd-1uj","title":"Unit tests: WASM hostcalls + sandbox boundaries","description":"Background:\n- WASM hostcalls must enforce capabilities and sandboxing rigorously.\n\nSteps:\n- Unit tests for each hostcall (read/write/exec/http/env) with allow/deny cases.\n- Ensure errors propagate with correct codes/messages.\n- Validate resource cleanup and cancellation behavior.\n\nLogging requirements:\n- Tests assert hostcall logs include extension id, capability, and decision.\n\nAcceptance:\n- Hostcall behavior matches policy and is stable under error conditions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:46:20.154969636Z","created_by":"ubuntu","updated_at":"2026-02-03T02:49:07.235498503Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1uj","depends_on_id":"bd-3d1","type":"blocks","created_at":"2026-02-03T02:48:50.949777504Z","created_by":"ubuntu"},{"issue_id":"bd-1uj","depends_on_id":"bd-h04","type":"blocks","created_at":"2026-02-03T02:49:07.235468737Z","created_by":"ubuntu"}]}
{"id":"bd-1uy","title":"Workstream: Rust extension runtime compatibility complete","description":"Purpose:\n- Implement extension runtime support in pi_agent_rust so extensions run *as-is* with correct protocol, capabilities, and event wiring.\n\nOutputs (artifacts):\n- Extension manifest loader + compatibility scanner.\n- WASM host + WIT bindings; JS compatibility pipeline.\n- Runtime wiring for tool_call, slash_command, event_hooks.\n- Configurable policy modes (strict/prompt/permissive) with audit logging.\n\nDefinition of done:\n- The runtime can load sample extensions and expose their tools/commands.\n- Capability policy is enforced consistently and logged.\n- No modifications to extension source are required (as-is).\n\nDependencies:\n- Must align with extension protocol schema + WIT spec.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-03T02:20:06.808066704Z","created_by":"ubuntu","updated_at":"2026-02-03T03:06:40.150262092Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1uy","depends_on_id":"bd-1e0","type":"blocks","created_at":"2026-02-03T02:30:12.853964110Z","created_by":"ubuntu"},{"issue_id":"bd-1uy","depends_on_id":"bd-1tz","type":"blocks","created_at":"2026-02-03T03:00:18.258715350Z","created_by":"ubuntu"},{"issue_id":"bd-1uy","depends_on_id":"bd-1u6","type":"blocks","created_at":"2026-02-03T03:00:36.779877348Z","created_by":"ubuntu"},{"issue_id":"bd-1uy","depends_on_id":"bd-1uj","type":"blocks","created_at":"2026-02-03T03:00:22.168660330Z","created_by":"ubuntu"},{"issue_id":"bd-1uy","depends_on_id":"bd-261","type":"blocks","created_at":"2026-02-03T03:00:08.302159764Z","created_by":"ubuntu"},{"issue_id":"bd-1uy","depends_on_id":"bd-2i5","type":"blocks","created_at":"2026-02-03T02:30:20.201899992Z","created_by":"ubuntu"},{"issue_id":"bd-1uy","depends_on_id":"bd-2ni","type":"blocks","created_at":"2026-02-03T03:00:42.028402851Z","created_by":"ubuntu"},{"issue_id":"bd-1uy","depends_on_id":"bd-2tf","type":"blocks","created_at":"2026-02-03T03:06:30.366126679Z","created_by":"ubuntu"},{"issue_id":"bd-1uy","depends_on_id":"bd-2tp","type":"blocks","created_at":"2026-02-03T03:06:35.962945035Z","created_by":"ubuntu"},{"issue_id":"bd-1uy","depends_on_id":"bd-320","type":"blocks","created_at":"2026-02-03T02:30:04.339154654Z","created_by":"ubuntu"},{"issue_id":"bd-1uy","depends_on_id":"bd-34f","type":"blocks","created_at":"2026-02-03T02:30:32.268119518Z","created_by":"ubuntu"},{"issue_id":"bd-1uy","depends_on_id":"bd-39u","type":"blocks","created_at":"2026-02-03T03:00:32.276841499Z","created_by":"ubuntu"},{"issue_id":"bd-1uy","depends_on_id":"bd-3d1","type":"blocks","created_at":"2026-02-03T02:29:57.378812015Z","created_by":"ubuntu"},{"issue_id":"bd-1uy","depends_on_id":"bd-3im","type":"blocks","created_at":"2026-02-03T03:00:14.178023334Z","created_by":"ubuntu"},{"issue_id":"bd-1uy","depends_on_id":"bd-3qo","type":"blocks","created_at":"2026-02-03T03:00:49.613430040Z","created_by":"ubuntu"},{"issue_id":"bd-1uy","depends_on_id":"bd-3so","type":"blocks","created_at":"2026-02-03T03:00:54.135867074Z","created_by":"ubuntu"},{"issue_id":"bd-1uy","depends_on_id":"bd-576","type":"blocks","created_at":"2026-02-03T02:29:38.900373206Z","created_by":"ubuntu"},{"issue_id":"bd-1uy","depends_on_id":"bd-gqf","type":"blocks","created_at":"2026-02-03T02:29:48.645550131Z","created_by":"ubuntu"},{"issue_id":"bd-1uy","depends_on_id":"bd-gz6","type":"blocks","created_at":"2026-02-03T03:06:40.150235863Z","created_by":"ubuntu"}]}
{"id":"bd-1we","title":"Update EXTENSIONS.md + FEATURE_PARITY with extension compatibility status","description":"Background:\n- Docs must reflect real compatibility and coverage.\n\nSteps:\n- Update EXTENSIONS.md with supported tiers, sample list, and known gaps.\n- Update FEATURE_PARITY.md with extension status and conformance counts.\n\nAcceptance:\n- Docs match the latest conformance report and include links to fixtures.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-03T02:26:04.102718613Z","created_by":"ubuntu","updated_at":"2026-02-03T02:39:53.217391087Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1we","depends_on_id":"bd-20p","type":"blocks","created_at":"2026-02-03T02:39:53.217366532Z","created_by":"ubuntu"},{"issue_id":"bd-1we","depends_on_id":"bd-31j","type":"blocks","created_at":"2026-02-03T02:39:43.584592180Z","created_by":"ubuntu"}]}
{"id":"bd-1xf","title":"Migrate providers and streaming to asupersync HTTP/runtime","description":"Replace reqwest/tokio streaming with asupersync HTTP + Cx, maintain SSE behavior and tests.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-02-03T02:18:29.736942712Z","created_by":"ubuntu","updated_at":"2026-02-03T02:19:06.409446427Z","compaction_level":0,"original_size":0}
{"id":"bd-20p","title":"Workstream: extension performance + benchmark evidence complete","description":"Purpose:\n- Prove extension runtime performance meets budgets and compare against legacy pi.\n\nOutputs (artifacts):\n- Benchmarks for extension load/startup, tool-call overhead, and event hook latency.\n- Performance budgets + thresholds documented.\n- Comparison table vs legacy (same machine/CI class).\n\nDefinition of done:\n- Benchmarks run via `cargo bench` and produce stable numbers.\n- Performance budgets documented and met (or justified).\n\nDependencies:\n- Requires Rust runtime and harness stubs.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-03T02:20:27.159589474Z","created_by":"ubuntu","updated_at":"2026-02-03T02:41:44.911911769Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-20p","depends_on_id":"bd-1fg","type":"blocks","created_at":"2026-02-03T02:31:44.106612344Z","created_by":"ubuntu"},{"issue_id":"bd-20p","depends_on_id":"bd-1ii","type":"blocks","created_at":"2026-02-03T02:31:34.231567531Z","created_by":"ubuntu"},{"issue_id":"bd-20p","depends_on_id":"bd-1uy","type":"blocks","created_at":"2026-02-03T02:41:44.911889467Z","created_by":"ubuntu"},{"issue_id":"bd-20p","depends_on_id":"bd-uah","type":"blocks","created_at":"2026-02-03T02:31:51.258046226Z","created_by":"ubuntu"}]}
{"id":"bd-22h","title":"Design stratified sampling matrix for extension diversity","description":"Background:\n- The sample must cover extension feature variety, not just popularity.\n\nInclude axes such as:\n- Capabilities used: read/write/exec/http/env.\n- Interaction model: tool-only vs slash commands vs event hooks.\n- Runtime tier: WASM vs JS bundle vs MCP/process.\n- Complexity: single-file vs multi-module; config-heavy vs config-light.\n- I/O patterns: filesystem-heavy, network-heavy, CPU-heavy.\n\nOutput:\n- A sampling matrix/table that maps each candidate extension to axes, with quotas per axis.\n\nAcceptance:\n- Matrix makes it explicit why each selected extension is in the sample.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:21:15.663936275Z","created_by":"ubuntu","updated_at":"2026-02-03T02:33:46.115761678Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-22h","depends_on_id":"bd-2uv","type":"blocks","created_at":"2026-02-03T02:33:46.115721353Z","created_by":"ubuntu"},{"issue_id":"bd-22h","depends_on_id":"bd-gx1","type":"blocks","created_at":"2026-02-03T02:33:37.446436457Z","created_by":"ubuntu"}]}
{"id":"bd-247","title":"Fix asupersync websocket unused import warning","description":"asupersync emits unused imports warning in net/websocket/client.rs during builds.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-03T01:26:23.304039205Z","created_by":"ubuntu","updated_at":"2026-02-03T01:52:45.712771158Z","closed_at":"2026-02-03T01:52:45.712697421Z","close_reason":"Fixed unused import warning and clippy clean in asupersync","compaction_level":0,"original_size":0}
{"id":"bd-25q","title":"Extension compatibility proof: popular sample + conformance harness","description":"Goal:\n- Prove that a large, diverse, *popular* sample of existing pi-agent extensions runs \"as-is\" with full behavioral fidelity in pi_agent_rust.\n- Produce evidence that is testable, repeatable, and automated (fixtures + harness + reports).\n\nScope notes:\n- \"As-is\" means no changes to extension source code or packaging, except for standard install/build steps that the legacy pi toolchain already requires.\n- Compatibility must be demonstrated across tools, slash commands, and event hooks where provided.\n- Evidence must include deterministic conformance fixtures and a runner that compares Rust output to legacy output.\n\nKey references (for future self):\n- EXTENSIONS.md (design goals, runtime tiers).\n- docs/schema/extension_protocol.json + docs/wit/extension.wit (protocol spec).\n- EXISTING_PI_STRUCTURE.md sections 7, 9, 10 for CLI/resource flow.\n\nExit criteria:\n- Workstream summaries (sample, capture, runtime, harness, benchmarks, docs) are each marked done.\n- The conformance harness passes for the entire selected sample.\n- A written report maps each extension to a pass/fail status and notes any deviations.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-02-03T02:19:34.839197122Z","created_by":"ubuntu","updated_at":"2026-02-03T02:33:25.486349564Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-25q","depends_on_id":"bd-155","type":"blocks","created_at":"2026-02-03T02:33:25.486326902Z","created_by":"ubuntu"},{"issue_id":"bd-25q","depends_on_id":"bd-1uy","type":"blocks","created_at":"2026-02-03T02:32:58.178295362Z","created_by":"ubuntu"},{"issue_id":"bd-25q","depends_on_id":"bd-20p","type":"blocks","created_at":"2026-02-03T02:33:15.291926668Z","created_by":"ubuntu"},{"issue_id":"bd-25q","depends_on_id":"bd-269","type":"blocks","created_at":"2026-02-03T02:33:06.528370559Z","created_by":"ubuntu"},{"issue_id":"bd-25q","depends_on_id":"bd-29c","type":"blocks","created_at":"2026-02-03T02:32:36.705432Z","created_by":"ubuntu"},{"issue_id":"bd-25q","depends_on_id":"bd-3oq","type":"blocks","created_at":"2026-02-03T02:32:47.816503957Z","created_by":"ubuntu"}]}
{"id":"bd-261","title":"Unit tests: extension protocol parsing + schema validation","description":"Background:\n- Protocol correctness is foundational; failures here invalidate all runtime/harness results.\n\nSteps:\n- Add unit tests for ExtensionMessage parse/validate (happy path + edge cases).\n- Round-trip serialize/deserialize for every message type.\n- Validate against docs/schema/extension_protocol.json (schema compliance tests).\n- Include negative cases (missing fields, wrong version, invalid types).\n\nLogging requirements:\n- Tests should emit clear context on failure (message type, field, expected vs actual).\n\nAcceptance:\n- All protocol message variants have unit coverage and schema parity tests pass.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:45:39.810448391Z","created_by":"ubuntu","updated_at":"2026-02-03T02:48:03.729428901Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-261","depends_on_id":"bd-576","type":"blocks","created_at":"2026-02-03T02:48:03.729397152Z","created_by":"ubuntu"}]}
{"id":"bd-269","title":"Workstream: extension conformance harness + automation complete","description":"Purpose:\n- Build the fixture schema and automated harness that proves Rust runtime matches legacy outputs for every sampled extension.\n\nOutputs (artifacts):\n- Extension fixture schema + normalization rules.\n- Rust harness that executes extensions and diffs outputs against golden fixtures.\n- CI integration + human-readable report.\n\nDefinition of done:\n- Harness runs in `cargo test` and passes for the full sample.\n- Failures produce actionable diffs.\n- Normalization rules documented (time, paths, randomness, ANSI).\n\nDependencies:\n- Requires legacy fixtures and Rust runtime wiring.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-03T02:20:17.658873350Z","created_by":"ubuntu","updated_at":"2026-02-03T03:06:44.768539680Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-269","depends_on_id":"bd-1nq","type":"blocks","created_at":"2026-02-03T02:31:15.519815411Z","created_by":"ubuntu"},{"issue_id":"bd-269","depends_on_id":"bd-1uy","type":"blocks","created_at":"2026-02-03T02:41:32.939079022Z","created_by":"ubuntu"},{"issue_id":"bd-269","depends_on_id":"bd-2ce","type":"blocks","created_at":"2026-02-03T02:31:04.943117440Z","created_by":"ubuntu"},{"issue_id":"bd-269","depends_on_id":"bd-2lr","type":"blocks","created_at":"2026-02-03T03:06:44.768510717Z","created_by":"ubuntu"},{"issue_id":"bd-269","depends_on_id":"bd-31j","type":"blocks","created_at":"2026-02-03T02:31:24.142364961Z","created_by":"ubuntu"},{"issue_id":"bd-269","depends_on_id":"bd-3oq","type":"blocks","created_at":"2026-02-03T02:41:24.009639209Z","created_by":"ubuntu"},{"issue_id":"bd-269","depends_on_id":"bd-3s2","type":"blocks","created_at":"2026-02-03T02:30:58.256698576Z","created_by":"ubuntu"},{"issue_id":"bd-269","depends_on_id":"bd-7al","type":"blocks","created_at":"2026-02-03T02:30:48.998840738Z","created_by":"ubuntu"},{"issue_id":"bd-269","depends_on_id":"bd-k7i","type":"blocks","created_at":"2026-02-03T03:01:25.087597433Z","created_by":"ubuntu"},{"issue_id":"bd-269","depends_on_id":"bd-vmm","type":"blocks","created_at":"2026-02-03T03:00:03.128040325Z","created_by":"ubuntu"},{"issue_id":"bd-269","depends_on_id":"bd-yd9","type":"blocks","created_at":"2026-02-03T02:30:40.406993169Z","created_by":"ubuntu"}]}
{"id":"bd-29c","title":"Workstream: popular extension sample selection + acquisition complete","description":"Purpose:\n- Produce a *large, diverse, popular* extension sample with frozen versions and archived artifacts so conformance tests are repeatable.\n\nOutputs (artifacts):\n- Sample selection criteria + sampling matrix (documented).\n- Final manifest of chosen extensions (name, source, version, checksum, capabilities, categories).\n- Archived artifacts (tarballs/zip) stored under a dedicated fixtures area with checksums.\n\nDefinition of done:\n- Sample list is final and frozen with versions.\n- Artifacts are locally archived with checksums.\n- License/redistribution policy applied to each artifact (OK / restricted / exclude).\n\nDependencies:\n- This workstream blocks legacy capture, harness, and reporting.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-03T02:19:44.802403431Z","created_by":"ubuntu","updated_at":"2026-02-03T02:28:15.393814835Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-29c","depends_on_id":"bd-22h","type":"blocks","created_at":"2026-02-03T02:27:48.803635894Z","created_by":"ubuntu"},{"issue_id":"bd-29c","depends_on_id":"bd-2uv","type":"blocks","created_at":"2026-02-03T02:27:27.483930216Z","created_by":"ubuntu"},{"issue_id":"bd-29c","depends_on_id":"bd-2wo","type":"blocks","created_at":"2026-02-03T02:27:56.575435375Z","created_by":"ubuntu"},{"issue_id":"bd-29c","depends_on_id":"bd-3rr","type":"blocks","created_at":"2026-02-03T02:28:15.393785220Z","created_by":"ubuntu"},{"issue_id":"bd-29c","depends_on_id":"bd-gx1","type":"blocks","created_at":"2026-02-03T02:27:40.976426571Z","created_by":"ubuntu"},{"issue_id":"bd-29c","depends_on_id":"bd-ic9","type":"blocks","created_at":"2026-02-03T02:28:06.592012396Z","created_by":"ubuntu"}]}
{"id":"bd-2ce","title":"Add negative conformance tests for denied capabilities","description":"Background:\n- We must prove policy enforcement: denied hostcalls should fail predictably.\n\nSteps:\n- Define fixtures where extensions attempt disallowed capabilities.\n- Ensure outputs match legacy pi behavior (error messages, exit codes).\n- Cover strict/prompt/permissive modes.\n\nAcceptance:\n- Negative tests pass and failures are clear, consistent, and policy-driven.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-03T02:25:04.934329690Z","created_by":"ubuntu","updated_at":"2026-02-03T02:37:54.006418531Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2ce","depends_on_id":"bd-34f","type":"blocks","created_at":"2026-02-03T02:37:45.013467540Z","created_by":"ubuntu"},{"issue_id":"bd-2ce","depends_on_id":"bd-7al","type":"blocks","created_at":"2026-02-03T02:37:54.006392022Z","created_by":"ubuntu"}]}
{"id":"bd-2i5","title":"Wire extension runtime into agent loop (tools/commands/events)","description":"Background:\n- Extensions must integrate with the agent loop so their tools and commands are callable.\n\nSteps:\n- Register extension tools with the ToolRegistry and route tool_call/tool_result.\n- Register slash commands and hook them into interactive mode.\n- Implement event hook emission at appropriate agent lifecycle points.\n- Ensure wiring supports deterministic test hooks (ordering + timing).\n\nLogging requirements:\n- Emit structured logs for tool registration, command invocation, and event hooks (correlation IDs).\n\nAcceptance:\n- An extension-provided tool and slash command can be invoked end-to-end.\n- Logs follow the extension logging spec for conformance/E2E tests.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:24:12.588180426Z","created_by":"ubuntu","updated_at":"2026-02-03T03:07:05.988120840Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2i5","depends_on_id":"bd-1e0","type":"blocks","created_at":"2026-02-03T02:36:42.381852755Z","created_by":"ubuntu"},{"issue_id":"bd-2i5","depends_on_id":"bd-320","type":"blocks","created_at":"2026-02-03T02:36:33.786661150Z","created_by":"ubuntu"},{"issue_id":"bd-2i5","depends_on_id":"bd-3d1","type":"blocks","created_at":"2026-02-03T02:36:24.409519415Z","created_by":"ubuntu"},{"issue_id":"bd-2i5","depends_on_id":"bd-h04","type":"blocks","created_at":"2026-02-03T02:58:11.702297011Z","created_by":"ubuntu"}]}
{"id":"bd-2lr","title":"Unit tests: fixture schema + normalization rules","description":"Background:\n- Fixture schema and normalization are the bedrock of conformance stability.\n\nSteps:\n- Schema validation tests with representative fixtures (tools/commands/events).\n- Golden tests for normalization transforms (paths, timestamps, ANSI, randomness).\n- Negative tests for malformed fixtures and invalid normalization hints.\n\nLogging requirements:\n- Test failures must report which rule or schema path failed.\n\nAcceptance:\n- Schema and normalization rules are deterministic with high-coverage tests.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T03:05:10.743032754Z","created_by":"ubuntu","updated_at":"2026-02-03T03:05:58.026358006Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2lr","depends_on_id":"bd-3s2","type":"blocks","created_at":"2026-02-03T03:05:58.026330705Z","created_by":"ubuntu"},{"issue_id":"bd-2lr","depends_on_id":"bd-yd9","type":"blocks","created_at":"2026-02-03T03:05:52.013324071Z","created_by":"ubuntu"}]}
{"id":"bd-2ni","title":"E2E: Rust extension runtime smoke suite (sample) with verbose logs","description":"Background:\n- We need an end-to-end validation that sampled extensions run in Rust with real wiring.\n\nSteps:\n- Build an E2E script that loads each sampled extension from the manifest and runs its scenarios.\n- Capture stdout/stderr, tool outputs, and event hook logs per extension.\n- Store logs as artifacts for debugging (per-extension log file).\n\nLogging requirements:\n- Structured logs with correlation IDs: extension id, scenario id, tool/command/event type.\n\nAcceptance:\n- E2E script passes for the full sample and produces logs suitable for triage.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:46:59.333523573Z","created_by":"ubuntu","updated_at":"2026-02-03T02:59:30.088394167Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2ni","depends_on_id":"bd-2i5","type":"blocks","created_at":"2026-02-03T02:50:03.585226017Z","created_by":"ubuntu"},{"issue_id":"bd-2ni","depends_on_id":"bd-34f","type":"blocks","created_at":"2026-02-03T02:59:19.189101895Z","created_by":"ubuntu"},{"issue_id":"bd-2ni","depends_on_id":"bd-3qo","type":"blocks","created_at":"2026-02-03T02:59:23.294358333Z","created_by":"ubuntu"},{"issue_id":"bd-2ni","depends_on_id":"bd-3rr","type":"blocks","created_at":"2026-02-03T02:59:15.163850386Z","created_by":"ubuntu"},{"issue_id":"bd-2ni","depends_on_id":"bd-3so","type":"blocks","created_at":"2026-02-03T02:59:30.088367136Z","created_by":"ubuntu"},{"issue_id":"bd-2ni","depends_on_id":"bd-ic9","type":"blocks","created_at":"2026-02-03T02:50:14.801243Z","created_by":"ubuntu"}]}
{"id":"bd-2qd","title":"Define per-extension scenario suite for capture","description":"Background:\n- Each extension may expose tools, slash commands, and event hooks; we must test them consistently.\n\nSteps:\n- For each sampled extension, enumerate available features (tools/commands/events).\n- Define minimal smoke scenarios + edge cases (inputs, expected outputs).\n- Document any required configuration or secrets (mocked).\n\nOutput:\n- A scenario specification mapped to each extension in the sample manifest.\n\nAcceptance:\n- Every extension has at least one scenario per supported feature category.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:22:28.650419393Z","created_by":"ubuntu","updated_at":"2026-02-03T02:34:39.934715310Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2qd","depends_on_id":"bd-ic9","type":"blocks","created_at":"2026-02-03T02:34:39.934693450Z","created_by":"ubuntu"}]}
{"id":"bd-2tf","title":"Unit tests: extension discovery + install resolution","description":"Background:\n- Discovery/install is user-facing and failure-prone; tests prevent regressions.\n\nSteps:\n- Unit tests for package source resolution (global vs project precedence).\n- Tests for CLI flags (--extension/--no-extensions) and conflict handling.\n- Validate diagnostics for missing/invalid extensions (actionable errors).\n- Cover path normalization, symlink handling, and manifest discovery.\n\nLogging requirements:\n- Tests assert diagnostics include source, resolution path, and reason codes.\n\nAcceptance:\n- All discovery/install branches have unit coverage with deterministic outputs.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T03:04:58.361767846Z","created_by":"ubuntu","updated_at":"2026-02-03T03:05:37.400281159Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2tf","depends_on_id":"bd-1e0","type":"blocks","created_at":"2026-02-03T03:05:32.727103737Z","created_by":"ubuntu"},{"issue_id":"bd-2tf","depends_on_id":"bd-3so","type":"blocks","created_at":"2026-02-03T03:05:37.400250952Z","created_by":"ubuntu"}]}
{"id":"bd-2tp","title":"Unit tests: extc pipeline + compat scanner","description":"Background:\n- The extc build pipeline is the JS/TS compatibility backbone; correctness is critical.\n\nSteps:\n- Unit tests for JS/TS bundling with deterministic output.\n- Verify shim rewrite passes (legacy API -> connector hostcalls).\n- Compat scan tests: reject Node/Bun globals and forbidden APIs.\n- Cache tests: identical inputs hit cache; changes bust cache.\n\nLogging requirements:\n- Tests assert diagnostics include rejected API name + location.\n\nAcceptance:\n- Pipeline behavior is deterministic and rejects incompatible code with actionable logs.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T03:05:05.088900030Z","created_by":"ubuntu","updated_at":"2026-02-03T03:05:47.667473657Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2tp","depends_on_id":"bd-3so","type":"blocks","created_at":"2026-02-03T03:05:47.667444432Z","created_by":"ubuntu"},{"issue_id":"bd-2tp","depends_on_id":"bd-xgo","type":"blocks","created_at":"2026-02-03T03:05:42.547370766Z","created_by":"ubuntu"}]}
{"id":"bd-2uv","title":"Define popularity criteria + target sample size","description":"Background:\n- We must justify *why* each extension is in the sample and ensure diversity (not just what is easy to test).\n\nWhat to decide (document explicitly):\n- Popularity signals (e.g., GitHub stars, npm downloads, community references, official pi docs).\n- Diversity axes (tool-only vs slash commands, event hooks, UI integrations, network usage, file system usage).\n- Minimum and maximum sample size, plus rationale (coverage vs time).\n\nOutput:\n- A written criteria section that later tasks can apply mechanically.\n\nAcceptance:\n- Criteria are precise enough that two people would pick the same sample.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:20:45.780340292Z","created_by":"ubuntu","updated_at":"2026-02-03T02:20:45.780340292Z","compaction_level":0,"original_size":0}
{"id":"bd-2wo","title":"Define license/redistribution policy for extension artifacts + fixtures","description":"Background:\n- We will archive extension artifacts and include fixtures. Licensing constraints must be honored.\n\nDecisions to document:\n- Which licenses allow redistribution of artifacts and fixture snippets.\n- When to store hashes only vs full artifacts.\n- Procedure for excluded/opt-out extensions.\n\nOutput:\n- A policy note that maps license types to allowed storage actions.\n\nAcceptance:\n- Every sampled extension can be classified as OK / restricted / excluded under this policy.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:21:27.469438600Z","created_by":"ubuntu","updated_at":"2026-02-03T02:21:27.469438600Z","compaction_level":0,"original_size":0}
{"id":"bd-31j","title":"Generate per-extension conformance report (machine + human)","description":"Background:\n- We need a consumable summary of results for stakeholders and future self.\n\nSteps:\n- Produce a report that lists each extension, version, runtime tier, and pass/fail.\n- Include failure reasons and links to fixtures/logs.\n- Ensure report can be regenerated automatically.\n\nAcceptance:\n- Report is updated by running a single documented command.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-03T02:25:23.180071849Z","created_by":"ubuntu","updated_at":"2026-02-03T02:38:48.372939252Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-31j","depends_on_id":"bd-16n","type":"blocks","created_at":"2026-02-03T02:38:48.372915528Z","created_by":"ubuntu"},{"issue_id":"bd-31j","depends_on_id":"bd-1nq","type":"blocks","created_at":"2026-02-03T02:38:37.057218072Z","created_by":"ubuntu"}]}
{"id":"bd-320","title":"Implement JS compatibility pipeline (bundle -> runtime)","description":"Background:\n- Many extensions are JS/TS; we need a compatibility tier to run them as-is.\n\nSteps:\n- Choose JS execution strategy (QuickJS bytecode or JS->WASM).\n- Implement build pipeline + caching by hash (extc/SWC).\n- Provide shims for legacy APIs to map into hostcalls.\n- Integrate with the QuickJS runtime and connector dispatcher.\n\nAcceptance:\n- A representative JS extension from the sample runs without source modification.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:23:48.829161504Z","created_by":"ubuntu","updated_at":"2026-02-03T02:58:06.958868942Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-320","depends_on_id":"bd-1f5","type":"blocks","created_at":"2026-02-03T02:57:51.102987010Z","created_by":"ubuntu"},{"issue_id":"bd-320","depends_on_id":"bd-576","type":"blocks","created_at":"2026-02-03T02:36:05.880390018Z","created_by":"ubuntu"},{"issue_id":"bd-320","depends_on_id":"bd-h04","type":"blocks","created_at":"2026-02-03T02:58:06.958842873Z","created_by":"ubuntu"},{"issue_id":"bd-320","depends_on_id":"bd-xgo","type":"blocks","created_at":"2026-02-03T02:57:45.142354946Z","created_by":"ubuntu"}]}
{"id":"bd-34f","title":"Implement extension policy modes + audit logging","description":"Background:\n- Capability policy is required for safe extension execution.\n\nSteps:\n- Implement strict/prompt/permissive policy modes from EXTENSIONS.md.\n- Add audit log entries for allow/deny decisions (logging spec).\n- Expose configuration in settings.json + CLI overrides if needed.\n\nAcceptance:\n- Policy decisions are enforced and traceable; prompt mode works in interactive TUI.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:24:21.365624736Z","created_by":"ubuntu","updated_at":"2026-02-03T02:58:59.092578403Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-34f","depends_on_id":"bd-2i5","type":"blocks","created_at":"2026-02-03T02:37:04.173275502Z","created_by":"ubuntu"},{"issue_id":"bd-34f","depends_on_id":"bd-3d1","type":"blocks","created_at":"2026-02-03T02:36:52.814400559Z","created_by":"ubuntu"},{"issue_id":"bd-34f","depends_on_id":"bd-3so","type":"blocks","created_at":"2026-02-03T02:58:59.092547476Z","created_by":"ubuntu"}]}
{"id":"bd-39u","title":"Unit tests: JS runtime + shims + event loop ordering","description":"Background:\n- JS compatibility requires correct promise/microtask ordering and shim behavior.\n\nSteps:\n- Unit tests for JS event loop tick ordering (microtasks vs hostcall responses).\n- Tests for legacy API shims mapping to hostcalls.\n- Cancellation + timeout behavior tests.\n\nLogging requirements:\n- Tests include trace logs for task ordering and promise resolution sequence.\n\nAcceptance:\n- JS runtime semantics are deterministic and match legacy expectations.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:46:34.349194940Z","created_by":"ubuntu","updated_at":"2026-02-03T02:49:39.160954478Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-39u","depends_on_id":"bd-1f5","type":"blocks","created_at":"2026-02-03T02:49:19.505526230Z","created_by":"ubuntu"},{"issue_id":"bd-39u","depends_on_id":"bd-320","type":"blocks","created_at":"2026-02-03T02:49:29.019677126Z","created_by":"ubuntu"},{"issue_id":"bd-39u","depends_on_id":"bd-h04","type":"blocks","created_at":"2026-02-03T02:49:39.160923330Z","created_by":"ubuntu"}]}
{"id":"bd-3b6","title":"Implement RPC mode + conformance harness","description":"Implement rpc mode per EXISTING_PI_STRUCTURE and legacy rpc.md spec; add fixture-based conformance tests for RPC behavior.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-02-03T02:18:37.270311803Z","created_by":"ubuntu","updated_at":"2026-02-03T02:23:53.378860485Z","compaction_level":0,"original_size":0}
{"id":"bd-3d1","title":"Implement WASM host + WIT hostcalls with capability policy","description":"Background:\n- WASM is the default extension runtime tier; hostcalls must be capability-gated.\n\nSteps:\n- Implement WIT interface from docs/wit/extension.wit.\n- Provide hostcall surface for read/write/exec/http/env with policy checks.\n- Add audit logging for each hostcall decision (allow/deny) using the logging spec.\n- Ensure cancellation + error propagation are deterministic.\n\nAcceptance:\n- A simple WASM extension can register and execute tool calls under policy control.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:23:33.779620874Z","created_by":"ubuntu","updated_at":"2026-02-03T02:57:36.850371229Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3d1","depends_on_id":"bd-3so","type":"blocks","created_at":"2026-02-03T02:57:36.850341113Z","created_by":"ubuntu"},{"issue_id":"bd-3d1","depends_on_id":"bd-576","type":"blocks","created_at":"2026-02-03T02:35:57.325092538Z","created_by":"ubuntu"},{"issue_id":"bd-3d1","depends_on_id":"bd-h04","type":"blocks","created_at":"2026-02-03T02:57:31.896412281Z","created_by":"ubuntu"}]}
{"id":"bd-3ie","title":"Resolve UBS hardcoded-secret false positives for api_key usage","description":"UBS flags api_key assignments as hardcoded secrets; decide on renaming or ignore strategy.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T01:26:13.673637977Z","created_by":"ubuntu","updated_at":"2026-02-03T01:36:37.565377394Z","closed_at":"2026-02-03T01:36:37.565316170Z","close_reason":"UBS no longer shows hardcoded-secret false positives for api_key - issue may have been fixed in a UBS update or codebase changes","compaction_level":0,"original_size":0}
{"id":"bd-3im","title":"Unit tests: manifest loader + compatibility scan","description":"Background:\n- Manifest parsing and compat decisions drive runtime behavior; bugs are user-facing.\n\nSteps:\n- Unit tests for manifest parsing (valid/invalid, missing fields, unknown fields).\n- Tests for runtime tier selection (WASM/JS/MCP) based on manifest hints + policy.\n- Diagnostics tests (ensure error messages are actionable).\n\nLogging requirements:\n- Tests should capture and assert diagnostic strings for invalid manifests.\n\nAcceptance:\n- Coverage for all manifest fields and compatibility decision branches.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:45:52.022954042Z","created_by":"ubuntu","updated_at":"2026-02-03T02:48:16.633844596Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3im","depends_on_id":"bd-gqf","type":"blocks","created_at":"2026-02-03T02:48:16.633815031Z","created_by":"ubuntu"}]}
{"id":"bd-3on","title":"Implement legacy capture pipeline (run + record outputs)","description":"Background:\n- We need golden fixtures from legacy pi for each scenario.\n\nSteps:\n- Build a capture runner that executes scenarios and records raw outputs (stdout/stderr, JSON results).\n- Record metadata: pi-mono commit, extension version, environment snapshot.\n- Ensure the runner can be re-run deterministically.\n- Emit structured capture logs per the logging spec for traceability.\n\nAcceptance:\n- For a small pilot subset, the capture output is repeatable and complete.\n- Logs enable debugging without rerunning capture.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:22:37.848853767Z","created_by":"ubuntu","updated_at":"2026-02-03T02:58:45.777608021Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3on","depends_on_id":"bd-2qd","type":"blocks","created_at":"2026-02-03T02:35:06.569454464Z","created_by":"ubuntu"},{"issue_id":"bd-3on","depends_on_id":"bd-3so","type":"blocks","created_at":"2026-02-03T02:58:45.777576081Z","created_by":"ubuntu"},{"issue_id":"bd-3on","depends_on_id":"bd-7l6","type":"blocks","created_at":"2026-02-03T02:34:48.585575300Z","created_by":"ubuntu"},{"issue_id":"bd-3on","depends_on_id":"bd-u4r","type":"blocks","created_at":"2026-02-03T02:34:59.235697095Z","created_by":"ubuntu"}]}
{"id":"bd-3oq","title":"Workstream: legacy pi reference capture complete","description":"Purpose:\n- Run the *legacy* pi agent extension system and capture outputs for each sampled extension to create golden fixtures.\n\nOutputs (artifacts):\n- Deterministic capture runner and environment settings.\n- Golden JSON fixtures per extension (tools, slash commands, events).\n- Capture log + provenance (pi-mono commit, dependency versions, timestamps).\n\nDefinition of done:\n- Every sampled extension has reference outputs captured for its supported behaviors.\n- Fixtures are normalized and reproducible.\n- Capture methodology documented so it can be repeated later.\n\nDependencies:\n- Requires finalized sample list + archived artifacts.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-03T02:19:54.749923176Z","created_by":"ubuntu","updated_at":"2026-02-03T02:41:14.457295080Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3oq","depends_on_id":"bd-16n","type":"blocks","created_at":"2026-02-03T02:29:15.561118322Z","created_by":"ubuntu"},{"issue_id":"bd-3oq","depends_on_id":"bd-1oz","type":"blocks","created_at":"2026-02-03T02:29:05.470187289Z","created_by":"ubuntu"},{"issue_id":"bd-3oq","depends_on_id":"bd-29c","type":"blocks","created_at":"2026-02-03T02:41:14.457267759Z","created_by":"ubuntu"},{"issue_id":"bd-3oq","depends_on_id":"bd-2qd","type":"blocks","created_at":"2026-02-03T02:28:48.062075981Z","created_by":"ubuntu"},{"issue_id":"bd-3oq","depends_on_id":"bd-3on","type":"blocks","created_at":"2026-02-03T02:28:56.287437343Z","created_by":"ubuntu"},{"issue_id":"bd-3oq","depends_on_id":"bd-7l6","type":"blocks","created_at":"2026-02-03T02:28:26.716944160Z","created_by":"ubuntu"},{"issue_id":"bd-3oq","depends_on_id":"bd-u4r","type":"blocks","created_at":"2026-02-03T02:28:34.410022362Z","created_by":"ubuntu"},{"issue_id":"bd-3oq","depends_on_id":"bd-vbs","type":"blocks","created_at":"2026-02-03T02:29:24.772659253Z","created_by":"ubuntu"}]}
{"id":"bd-3qo","title":"Test infra: mock services + secrets redaction for deterministic runs","description":"Background:\n- Extensions often touch network/secrets; tests must be deterministic and safe.\n\nSteps:\n- Provide mock HTTP server with canned responses for networked extensions.\n- Define secrets injection strategy (env vars + redaction in logs).\n- Add helpers to create isolated temp workspaces per scenario.\n- Provide deterministic time and random seeds for repeatable runs.\n\nLogging requirements:\n- Logs must redact secrets and include mock server request traces.\n\nAcceptance:\n- Tests run offline with deterministic outputs and safe logs.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:47:27.653755790Z","created_by":"ubuntu","updated_at":"2026-02-03T02:59:10.172970033Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3qo","depends_on_id":"bd-7l6","type":"blocks","created_at":"2026-02-03T02:59:10.172932583Z","created_by":"ubuntu"},{"issue_id":"bd-3qo","depends_on_id":"bd-u4r","type":"blocks","created_at":"2026-02-03T02:59:03.761035897Z","created_by":"ubuntu"}]}
{"id":"bd-3rr","title":"Acquire extension artifacts + checksums (archive)","description":"Background:\n- Conformance must be reproducible offline; store artifacts and checksums.\n\nSteps:\n- Download or export each extension artifact as specified in the manifest.\n- Compute checksums (sha256) and record them in the manifest.\n- Store artifacts in a dedicated fixtures directory; respect license policy (hash-only if restricted).\n\nAcceptance:\n- Every selected extension has a checksum recorded.\n- Artifacts are archived or hash-only per policy.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:21:52.812780208Z","created_by":"ubuntu","updated_at":"2026-02-03T02:34:25.845548886Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3rr","depends_on_id":"bd-2wo","type":"blocks","created_at":"2026-02-03T02:34:25.845524630Z","created_by":"ubuntu"},{"issue_id":"bd-3rr","depends_on_id":"bd-ic9","type":"blocks","created_at":"2026-02-03T02:34:16.852084061Z","created_by":"ubuntu"}]}
{"id":"bd-3s2","title":"Implement normalization + diff rules for harness","description":"Background:\n- Minor non-determinism must be normalized without hiding real mismatches.\n\nSteps:\n- Implement normalization transforms (paths, timestamps, randomness, ANSI).\n- Provide per-fixture override rules if needed.\n- Ensure diffs highlight semantic changes, not noise.\n- Add golden normalization fixtures to prevent regressions.\n\nLogging requirements:\n- Normalization should emit trace logs in test mode for debugging diffs.\n\nAcceptance:\n- Fixture diffs are stable and actionable across reruns.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:24:52.984753311Z","created_by":"ubuntu","updated_at":"2026-02-03T03:07:20.580288980Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3s2","depends_on_id":"bd-yd9","type":"blocks","created_at":"2026-02-03T02:37:34.653870325Z","created_by":"ubuntu"}]}
{"id":"bd-3so","title":"Logging spec: structured logs + correlation IDs for extensions","description":"Background:\n- Capture/harness/runtime logs must be consistent, searchable, and safe.\n\nSteps:\n- Define a structured JSON log schema for extension execution (fields + types).\n- Standardize correlation IDs (extension id, scenario id, tool/command/event id).\n- Specify redaction rules for secrets/PII and normalization for tests.\n- Document where logs are emitted and how to consume them in CI.\n\nAcceptance:\n- Extension-related logs across capture/harness/runtime follow the schema.\n- Deterministic logs enable fixture diffs and triage.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-03T02:47:40.485700214Z","created_by":"ubuntu","updated_at":"2026-02-03T03:07:34.207573243Z","closed_at":"2026-02-03T03:07:34.207512710Z","close_reason":"Structured log schema + correlation IDs documented; protocol + Rust types aligned","compaction_level":0,"original_size":0}
{"id":"bd-3tu","title":"Crates publishing workflow for pi_agent_rust + libs","description":"Add crates.io publish workflows/metadata for pi_agent_rust, asupersync, rich_rust, charmed_rust; plan migration from path deps to versioned crates.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-03T02:18:50.598149638Z","created_by":"ubuntu","updated_at":"2026-02-03T02:18:50.598149638Z","compaction_level":0,"original_size":0}
{"id":"bd-576","title":"Align extension protocol schema + Rust types with legacy","description":"Background:\n- The schema and Rust types must faithfully represent legacy protocol behavior.\n\nSteps:\n- Compare docs/schema/extension_protocol.json + docs/wit/extension.wit to legacy behavior.\n- Identify missing fields or mismatched semantics.\n- Update Rust types and validators to match the legacy protocol (no breaking changes).\n\nAcceptance:\n- Protocol messages round-trip correctly and validate against the schema.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-02-03T02:23:14.647850470Z","created_by":"ubuntu","updated_at":"2026-02-03T03:20:19.339541555Z","compaction_level":0,"original_size":0}
{"id":"bd-7al","title":"Implement Rust extension conformance runner (exec + diff)","description":"Background:\n- The harness must run extensions under the Rust runtime and compare to fixtures.\n\nSteps:\n- Build runner that loads extension artifacts and executes scenarios.\n- Compare outputs to fixture expectations with clear diffs + normalization.\n- Emit per-case pass/fail with context and structured logs.\n\nLogging requirements:\n- Logs must follow the logging spec and include fixture IDs.\n\nAcceptance:\n- Running `cargo test` executes the harness and reports failures meaningfully.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:24:44.064207426Z","created_by":"ubuntu","updated_at":"2026-02-03T02:58:55.052282685Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-7al","depends_on_id":"bd-2i5","type":"blocks","created_at":"2026-02-03T02:37:24.460271765Z","created_by":"ubuntu"},{"issue_id":"bd-7al","depends_on_id":"bd-3qo","type":"blocks","created_at":"2026-02-03T02:58:55.052253491Z","created_by":"ubuntu"},{"issue_id":"bd-7al","depends_on_id":"bd-3so","type":"blocks","created_at":"2026-02-03T02:58:51.011258841Z","created_by":"ubuntu"},{"issue_id":"bd-7al","depends_on_id":"bd-yd9","type":"blocks","created_at":"2026-02-03T02:37:16.948809733Z","created_by":"ubuntu"}]}
{"id":"bd-7cs","title":"Bench: extension connector dispatch overhead","description":"Background:\n- Connector dispatch overhead is a critical latency path for extension tool calls.\n\nSteps:\n- Add Criterion benchmarks for hostcall dispatch, event-loop tick, and policy decision overhead.\n- Include cold vs warm cache scenarios and varying payload sizes.\n- Report p50/p95/p99 with budgets from bd-1ii.\n\nLogging requirements:\n- Bench output must include hardware profile and config hash.\n\nAcceptance:\n- Benchmarks run via `cargo bench` and produce stable numbers.\n- Regressions are detectable vs budgets.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-03T02:24:44.769218734Z","created_by":"ubuntu","updated_at":"2026-02-03T02:58:16.114299Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-7cs","depends_on_id":"bd-1ii","type":"blocks","created_at":"2026-02-03T02:58:16.114273422Z","created_by":"ubuntu"},{"issue_id":"bd-7cs","depends_on_id":"bd-h04","type":"blocks","created_at":"2026-02-03T02:25:17.392303657Z","created_by":"ubuntu"}]}
{"id":"bd-7l6","title":"Set up legacy pi-mono extension runner (pinned)","description":"Background:\n- We must capture reference outputs from the original implementation.\n\nSteps:\n- Pin pi-mono commit and dependency versions used for capture.\n- Verify extension tooling and sample installation workflow.\n- Document exact commands to run captures.\n\nAcceptance:\n- A pinned legacy environment can be recreated reliably.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:22:04.994412150Z","created_by":"ubuntu","updated_at":"2026-02-03T02:22:04.994412150Z","compaction_level":0,"original_size":0}
{"id":"bd-gqf","title":"Implement extension manifest loader + compatibility scan","description":"Background:\n- The runtime must interpret extension.json and determine how to run each extension.\n\nSteps:\n- Parse manifest fields (name, version, entrypoints, capabilities, runtime hints).\n- Validate against schema and emit actionable diagnostics.\n- Decide runtime tier (WASM/JS/MCP) per manifest + policy.\n\nAcceptance:\n- Invalid manifests fail fast with clear errors; valid ones map to a runtime plan.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:23:24.816332375Z","created_by":"ubuntu","updated_at":"2026-02-03T02:35:48.942003289Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-gqf","depends_on_id":"bd-576","type":"blocks","created_at":"2026-02-03T02:35:48.941976469Z","created_by":"ubuntu"}]}
{"id":"bd-gx1","title":"Enumerate sources + build raw candidate extension list","description":"Background:\n- We need a broad candidate pool before sampling.\n\nSteps (document results):\n- Identify sources: official pi docs, pi-mono examples, GitHub repos, npm packages, community lists.\n- Capture candidate metadata (name, repo URL, package name, last update, declared capabilities).\n- Note any duplicates or forks.\n\nOutput:\n- A raw candidate list (not yet filtered) with metadata sufficient for sampling.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:20:56.490314686Z","created_by":"ubuntu","updated_at":"2026-02-03T02:20:56.490314686Z","compaction_level":0,"original_size":0}
{"id":"bd-gz6","title":"E2E: extension install/update workflow (package sources)","description":"Background:\n- Users install/update extensions via package sources; we must validate this end-to-end.\n\nSteps:\n- Install the sample extensions from their package sources (local + remote) using the CLI.\n- Verify discovery and manifest resolution post-install.\n- Run a minimal scenario per extension (tool or command) to confirm wiring.\n- Capture stdout/stderr and structured logs per extension.\n\nLogging requirements:\n- Logs must include extension id, install source, version, and scenario id.\n\nAcceptance:\n- Full install/update workflow succeeds with deterministic logs and actionable failures.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T03:05:16.740536695Z","created_by":"ubuntu","updated_at":"2026-02-03T03:06:24.274350171Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-gz6","depends_on_id":"bd-1e0","type":"blocks","created_at":"2026-02-03T03:06:03.004110192Z","created_by":"ubuntu"},{"issue_id":"bd-gz6","depends_on_id":"bd-2i5","type":"blocks","created_at":"2026-02-03T03:06:24.274326557Z","created_by":"ubuntu"},{"issue_id":"bd-gz6","depends_on_id":"bd-3qo","type":"blocks","created_at":"2026-02-03T03:06:15.195816015Z","created_by":"ubuntu"},{"issue_id":"bd-gz6","depends_on_id":"bd-3rr","type":"blocks","created_at":"2026-02-03T03:06:11.319254630Z","created_by":"ubuntu"},{"issue_id":"bd-gz6","depends_on_id":"bd-3so","type":"blocks","created_at":"2026-02-03T03:06:20.170559538Z","created_by":"ubuntu"},{"issue_id":"bd-gz6","depends_on_id":"bd-ic9","type":"blocks","created_at":"2026-02-03T03:06:07.339928303Z","created_by":"ubuntu"}]}
{"id":"bd-h04","title":"Extensions: connector dispatcher + capability policy","description":"Background:\n- Connector dispatcher is the security boundary for all extension runtimes (WASM/JS).\n- It defines the canonical host_call/host_result protocol and enforces capability policy.\n\nScope:\n- Implement dispatcher core, capability checks, error mapping, and structured audit logging per the logging spec.\n- Provide hooks for policy modes (strict/prompt/permissive) and test harness instrumentation.\n\nSteps:\n- Define connector message types + validation; map to internal tool/command/env/fs/http calls.\n- Implement allow/deny decision flow with reason codes; enforce timeouts + cancellation (asupersync).\n- Emit structured logs (correlation IDs, capability, decision, elapsed).\n- Provide deterministic test hooks/mocks for unit + conformance tests.\n\nAcceptance:\n- All hostcalls route through the dispatcher with consistent policy enforcement.\n- Logs follow the extension logging schema and redact secrets.","status":"in_progress","priority":1,"issue_type":"feature","created_at":"2026-02-03T02:23:49.329723505Z","created_by":"ubuntu","updated_at":"2026-02-03T03:17:37.301616450Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-h04","depends_on_id":"bd-3so","type":"blocks","created_at":"2026-02-03T02:57:23.511568828Z","created_by":"ubuntu"}]}
{"id":"bd-ic9","title":"Finalize sample list with pinned versions + manifest","description":"Background:\n- The sample must be frozen to make conformance reproducible.\n\nSteps:\n- Apply popularity criteria + sampling matrix to the candidate list.\n- Pin exact versions (tags, npm versions, commit hashes).\n- Record capabilities, runtime tier, and any required configuration.\n\nOutput:\n- A manifest file (e.g., docs/extension-sample.json) listing all selected extensions with version + checksum fields.\n\nAcceptance:\n- Sample list is stable and complete; future work can use the manifest as the single source of truth.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:21:39.102966724Z","created_by":"ubuntu","updated_at":"2026-02-03T02:34:05.300489200Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-ic9","depends_on_id":"bd-22h","type":"blocks","created_at":"2026-02-03T02:33:56.006583211Z","created_by":"ubuntu"},{"issue_id":"bd-ic9","depends_on_id":"bd-2wo","type":"blocks","created_at":"2026-02-03T02:34:05.300453383Z","created_by":"ubuntu"}]}
{"id":"bd-k7i","title":"Extensions: conformance fixtures + parity report","description":"Background:\n- Built-in legacy extensions provide a controlled, known-good subset for early parity.\n\nSteps:\n- Identify built-in extensions under legacy_pi_mono_code/pi-mono/.pi/extensions.\n- Capture observable behaviors (tools, slash commands, event ordering, connector calls).\n- Generate fixtures using the shared fixture schema and normalization rules.\n- Run Rust runtime against the same scenarios and produce a parity report.\n\nLogging requirements:\n- Per-extension logs must follow the logging spec and include scenario IDs.\n\nAcceptance:\n- Built-in extensions pass parity with clear diffs on failure.\n- Results feed FEATURE_PARITY.md for extension API coverage.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:24:39.351669370Z","created_by":"ubuntu","updated_at":"2026-02-03T02:58:38.765410885Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-k7i","depends_on_id":"bd-3oq","type":"blocks","created_at":"2026-02-03T02:58:24.838987137Z","created_by":"ubuntu"},{"issue_id":"bd-k7i","depends_on_id":"bd-7al","type":"blocks","created_at":"2026-02-03T02:58:38.765386399Z","created_by":"ubuntu"},{"issue_id":"bd-k7i","depends_on_id":"bd-h04","type":"blocks","created_at":"2026-02-03T02:25:09.480333407Z","created_by":"ubuntu"},{"issue_id":"bd-k7i","depends_on_id":"bd-yd9","type":"blocks","created_at":"2026-02-03T02:58:34.091906333Z","created_by":"ubuntu"}]}
{"id":"bd-nom","title":"Extensions: WASM host (component model) using connector layer","description":"Implement WASM component runtime (wasmtime) for extensions, importing pi:extension/host.call and exporting pi:extension/extension per docs/wit/extension.wit. Must route all I/O via connector dispatcher.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-03T02:24:02.809593081Z","created_by":"ubuntu","updated_at":"2026-02-03T02:57:41.255820559Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-nom","depends_on_id":"bd-3d1","type":"blocks","created_at":"2026-02-03T02:57:41.255796474Z","created_by":"ubuntu"},{"issue_id":"bd-nom","depends_on_id":"bd-h04","type":"blocks","created_at":"2026-02-03T02:24:51.781952277Z","created_by":"ubuntu"}]}
{"id":"bd-u4r","title":"Define deterministic capture environment (paths/time/env)","description":"Background:\n- Extension outputs may include timestamps, absolute paths, or random IDs.\n\nDecide and document:\n- Fixed working directory + fixture temp paths.\n- Environment variable whitelist and standard values.\n- Time/freezing strategy (mock clock or fixed timestamp).\n- Randomness policy (seeded RNG or sanitized outputs).\n\nAcceptance:\n- Capture outputs are deterministic across runs on the same machine class.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:22:15.777902009Z","created_by":"ubuntu","updated_at":"2026-02-03T02:22:15.777902009Z","compaction_level":0,"original_size":0}
{"id":"bd-uah","title":"Compare extension performance vs legacy pi baseline","description":"Background:\n- We must show Rust meets or improves performance relative to legacy.\n\nSteps:\n- Run the same scenarios on legacy pi and capture timing stats.\n- Compare to Rust benchmarks; compute deltas and percent improvements.\n- Document any regressions with hypotheses.\n\nAcceptance:\n- A comparison table exists and is included in documentation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-03T02:25:55.844538937Z","created_by":"ubuntu","updated_at":"2026-02-03T02:39:30.616057230Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-uah","depends_on_id":"bd-1fg","type":"blocks","created_at":"2026-02-03T02:39:20.783898749Z","created_by":"ubuntu"},{"issue_id":"bd-uah","depends_on_id":"bd-7l6","type":"blocks","created_at":"2026-02-03T02:39:30.616028426Z","created_by":"ubuntu"}]}
{"id":"bd-vbs","title":"Document legacy capture process + provenance","description":"Background:\n- Future runs must reproduce the same fixtures and explain any drift.\n\nSteps:\n- Document capture commands, environment, and normalization.\n- Include version pins for pi-mono and extension sources.\n- Add a troubleshooting section for common capture failures.\n\nAcceptance:\n- A new maintainer can regenerate fixtures using only the doc.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-03T02:23:03.676906157Z","created_by":"ubuntu","updated_at":"2026-02-03T02:35:36.960388313Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-vbs","depends_on_id":"bd-16n","type":"blocks","created_at":"2026-02-03T02:35:36.960362635Z","created_by":"ubuntu"}]}
{"id":"bd-vmm","title":"E2E: legacy vs Rust parity runner (fixtures + diff logs)","description":"Background:\n- We must prove parity by running identical scenarios in legacy and Rust and diffing outputs.\n\nSteps:\n- Build a runner that executes scenarios in both runtimes (legacy + Rust).\n- Normalize outputs using the harness rules (paths/time/ANSI) before diffing.\n- Emit per-scenario diff logs with context, including raw vs normalized output.\n- Store diff artifacts for CI review and triage.\n\nLogging requirements:\n- Structured logs with correlation IDs (extension id, scenario id, runtime).\n\nAcceptance:\n- Parity runner completes for the full sample and produces deterministic diffs.\n- Failures are actionable with minimal manual digging.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-03T02:47:11.638706880Z","created_by":"ubuntu","updated_at":"2026-02-03T02:59:58.553997960Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-vmm","depends_on_id":"bd-16n","type":"blocks","created_at":"2026-02-03T02:59:36.025190918Z","created_by":"ubuntu"},{"issue_id":"bd-vmm","depends_on_id":"bd-3qo","type":"blocks","created_at":"2026-02-03T02:59:58.553968786Z","created_by":"ubuntu"},{"issue_id":"bd-vmm","depends_on_id":"bd-3s2","type":"blocks","created_at":"2026-02-03T02:59:50.448234186Z","created_by":"ubuntu"},{"issue_id":"bd-vmm","depends_on_id":"bd-3so","type":"blocks","created_at":"2026-02-03T02:59:54.640846590Z","created_by":"ubuntu"},{"issue_id":"bd-vmm","depends_on_id":"bd-7al","type":"blocks","created_at":"2026-02-03T02:59:40.204782716Z","created_by":"ubuntu"}]}
{"id":"bd-xgo","title":"Extensions: extc pipeline (SWC) + cache + compat scanner","description":"Background:\n- JS/TS extensions need a deterministic build pipeline to run as-is without Node/Bun.\n- The pipeline must rewrite legacy APIs into connector hostcalls and enforce compatibility.\n\nSteps:\n- Implement extc build pipeline with SWC: bundle, tree-shake, and emit target artifact (QuickJS bytecode or JS->WASM).\n- Run a static compatibility scan (forbidden APIs, Node/Bun globals, unsafe patterns).\n- Apply protocol shims/rewrite passes to map legacy APIs to pi connector calls.\n- Add artifact cache keyed by sha256(manifest + bundle + engine_version).\n- Emit build report metadata (warnings, compatibility flags, required capabilities).\n\nLogging requirements:\n- Build logs must include extension id, input hash, and any rejected APIs.\n\nAcceptance:\n- A representative JS extension bundles deterministically with cache hits on repeat.\n- Compatibility violations are reported with actionable diagnostics.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-03T02:24:33.029915380Z","created_by":"ubuntu","updated_at":"2026-02-03T02:57:27.809200249Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-xgo","depends_on_id":"bd-576","type":"blocks","created_at":"2026-02-03T02:57:27.809161367Z","created_by":"ubuntu"},{"issue_id":"bd-xgo","depends_on_id":"bd-h04","type":"blocks","created_at":"2026-02-03T02:25:02.648692771Z","created_by":"ubuntu"}]}
{"id":"bd-yd9","title":"Define extension fixture schema + normalization contract","description":"Background:\n- Extension conformance requires a fixture schema that captures inputs and expected outputs precisely.\n\nSteps:\n- Define JSON schema for extension fixtures (inputs, outputs, metadata, normalization hints).\n- Specify normalization rules (paths/time/ANSI/UUID) and how hints are applied.\n- Provide example fixtures for tools, slash commands, and event hooks.\n- Document how to add new cases and validate fixtures.\n\nAcceptance:\n- Schema can represent tools, slash commands, and event hooks uniformly.\n- Fixture validation is deterministic and ready for unit tests.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-02-03T02:24:33.255817422Z","created_by":"ubuntu","updated_at":"2026-02-03T03:27:33.076994233Z","compaction_level":0,"original_size":0}
